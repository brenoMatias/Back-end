Provavelmente você também já deve ter se deparado com URLs nesse formato /produtos?q=Geladeira&precoMaximo=2000 . Para pessoas comuns é bem difícil interpretar o que são todas essas letrinhas no final da URL depois do sinal de interrogação. Essa string depois do ? é uma query string. Nesse caso está sendo passado dois parâmetros: q com o valor Geladeira e precoMaximo com o valor 2000 .


Note que nossa rota ficou apenas com o prefixo /recipes/search já que os parâmetros enviados query string, não dependem desse prefixo e sim das informações que vem após o uso da ? na URL. É importante entender que na URL podemos colocar quantos parâmetros desde que eles sigam o formato <chave>=<valor> e que entre cada parâmetro, exista o & para definir que ali está sendo passado um novo parâmetro.

⚠️ Observação: Quando houver rotas com um mesmo radical e uma destas utilizar parâmetro de rota, as rotas mais específicas devem ser definidas sempre antes. Isso porque o Express ao resolver uma rota vai olhando rota por rota qual corresponde a URL que chegou. Se colocamos a rota /recipes/search depois da rota /recipes/:id , o Express vai entender que a palavra search como um id e vai chamar a callback da rota /recipes/:id . Tenha atenção a esse detalhe ao utilizar rotas similares na definição da sua API.